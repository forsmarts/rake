<!DOCTYPE html>
<html>
<head>
    <title>Rake</title>

    <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <script src="js/snap.svg-min.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/data.js"></script>
    <script src="js/cell.js"></script>
    <script src="js/puzzle.js"></script>
    <script src="js/drag.js"></script>
    <script src="js/canvas.js"></script>

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css" />
</head>
<body>
    <div class="container">
        <div class="row text-center">
            <h1 id="levelNumber"></h1>
        </div>
        <div class="row text-center">
            <svg id="mainGrid" width="550" height="600" />
        </div>
        <div class="row text-center">
            <h3 id="txtPuzzleHint"></h3>
        </div>
        <div class="row text-center">
            <span id="btnNextPuzzle" class="btn btn-primary btn-lg">Go to next puzzle</span>
        </div>
    </div>
</body>
<script>
    //TODO: Remove the variable
    var canvas;
    var goal;
    $(document).ready(function () {
        var fnNextPuzzle = function () {
            puzzle = storage.getNext();
            $("#btnNextPuzzle").hide();
            $("#txtPuzzleHint").text(puzzle.hint || " ");
            $("#txtPuzzleHint").show();
            $("#levelNumber").text("Level " + storage.currentPuzzle);
            canvas = new cRakeCanvas(new cRakePuzzle(puzzle));
            canvas.render(Snap('#mainGrid'));
        }
        $("#btnNextPuzzle").click(fnNextPuzzle);
        fnNextPuzzle();
    });

</script>
</html>
